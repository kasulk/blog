---
title: Projekt-Tagebuch Blog, Tag 28
pubDate: 2024-06-06
description: Da ich vorhabe demn√§chst ordentlich Blog-Artikel zu produzieren wollte ich heute gerne die Z√§hlmarken f√ºr die VG Wort einbinden. Die VG Wort ist eine Verwertungsgesellschaft, √§hnlich wie die GEMA f√ºr Musik...
category: coden
tags:
series: projekt-tagebuch blog
vgWortCode: b2e493071a4d46b087197483eb583f6e
---

<DateFormatter date={pubDate} weekday />

**Wochen-Ziele:**

- [ ] Blog-Projekt-Tagebuch (Mai) in den Blog uploaden

**Tages-Ziele:**

- [ ] Artikel-View-Count zu jedem Artikel anzeigen
- [x] ~[VG Wort einbinden](#vg-wort)~

---

Da ich vorhabe demn√§chst ordentlich Blog-Artikel zu produzieren wollte ich heute gerne die Z√§hlmarken f√ºr die [VG Wort](https://www.vgwort.de) einbinden.

## VG Wort

### Was ist die VG Wort?

Die VG Wort ist eine Verwertungsgesellschaft, √§hnlich wie die GEMA f√ºr Musik, die Tantiemen f√ºr Autoren und Verlage f√ºr die Nutzung ihrer (kopierf√§higen) Texte in B√ºchern, Zeitschriften und im Internet verwaltet und aussch√ºttet.

Man kann sich hier also ein kleines Taschengeld dazuverdienen, wenn man Texte produziert, die die Voraussetzungen erf√ºllen. Grob gesagt muss ein Text mindestens 1.800 Zeichen haben und mindestens 1.500 im Kalenderjahr aus Deutschland aus aufgerufen worden sein.

Genauere Informationen dazu findest du im [METIS-Pdf der VG Wort f√ºr Urheber](https://tom.vgwort.de/Documents/pdfs/dokumentation/metis/DOC_Urhebermeldung.pdf).

### Wahrnehmungsvertrag

Angemeldet habe ich mich bei der VG Wort bereits vor 4 Jahren. Anmelden hei√üt hier, dass man einen Wahrnehmungsvertrag mit der VG Wort abschlie√üt. Bisher hatte ich es nie geschafft etwas verwertungsw√ºrdiges zu ver√∂ffentlichen. Jetzt ist es soweit!

Um einen Text dann im Internet automatisiert von der VG Wort z√§hlen lassen zu k√∂nnen, muss man eine sogenannte Z√§hlmarke ins `HTML` einbinden. Die Z√§hlmarken kann man bei der VG Wort bestellen und sehen so aus:

```html
<img
  src="https://vg05.met.vgwort.de/na/57272aa6a66e4de7b84389dde48d0275"
  width="1"
  height="1"
  alt=""
/>
```

Es ist also einfach ein 1-Pixel gro√ües Bild, das von einem Server bei der VG Wort abgerufen und so gez√§hlt wird. Der Link besteht aus einer Base-URL und einem individuellen Code, der f√ºr jede Z√§hlmarke anders ist.

### VGWortMark-Komponente erstellen

Ich habe also eine `VGWortMark`-Komponente angelegt, die einen Code empf√§ngt und daraus einen Link erstellt. Die `baseUrl` habe ich global in meinem `links`-Objekt hinterlegt:

```tsx
// src/components/VGWortMark.tsx
import { links } from "@/config";

type Props = {
  code?: string;
};

// recommended values by VGWort
type ReferrerPolicy = "no-referrer-when-downgrade" | "unsafe-url";

const baseUrl = links.vgWort.find(({ name }) => name === "Counting Mark")?.url;
const referrerPolicy: ReferrerPolicy = "no-referrer-when-downgrade";

export function VGWortMark({ code }: Props) {
  if (!baseUrl) throw new Error("No 'baseUrl' found for VG Wort!");
  if (!code) return;

  return (
    <img
      src={`${baseUrl}/${code}`}
      width="1"
      height="1"
      alt=""
      referrerPolicy={referrerPolicy}
      className="hidden"
    />
  );
}
```

### VGWortMark-Komponente einbinden

Eingebunden hab ich die Komponente dann in der `PageHeader`-Komponente. So kann ich sie auch f√ºr Pages wie z.B. die [`About`](/aboutme)- oder die [`Support`](/support)-Page verwenden. In die Pages habe ich jeweils einen VG-Wort-Z√§hlmarken-Code hardgecodet.

F√ºr die dynamische `SingleBlogPage` wird der Z√§hlmarken-Code aus dem jeweiligen `Markdown`-File des Blog-Artikels gezogen. Daf√ºr muss ich nat√ºrlich f√ºr jeden Artikel den Z√§hlmarken-Code im Frontmatter hinterlegen (s.u. `vgWortCode`):

```mdx
---
title: Projekt-Tagebuch Blog, Tag 28
pubDate: 2024-06-28
description: Da ich vorhabe demn√§chst ordentlich Blog-Artikel zu produzieren wollte ich heute gerne die Z√§hlmarken f√ºr die VG Wort einbinden. Die VG Wort ist eine Verwertungsgesellschaft, √§hnlich wie die GEMA f√ºr Musik...
category: coden
tags:
series: projekt-tagebuch blog
vgWortCode: b2e493071a4d46b087197483eb583f6e
---

<DateFormatter date={pubDate} weekday />

{/* ... */}

## VG Wort

{/* ... */}
```

### Testen

Jetzt muss ich das Ganze noch testen. Laut VG Wort kann es bis zu 4 Tage dauern, bis das System in der Lage ist die Views zu z√§hlen. Schaun mer moi!

### Nachtrag aus der Zukunft

Links und Z√§hlungen funktionieren einwandfrei! ü•≥

## Feedback

<Accordion>
Schreib mir!

<SocialLinks emailSubject={`Frage zu ${title}`} />

</Accordion>
