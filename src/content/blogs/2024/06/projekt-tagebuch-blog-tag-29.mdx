---
title: Projekt-Tagebuch Blog, Tag 29
pubDate: 2024-06-07
description: Ich habe bereits 3 spezielle Link-Komponenten erstellt. AffiliateLink, Link und LinkExternal. Die Link-Komponente war hauptsÃ¤chlich gedacht, die internen NextLinks zu stylen. Die LinkExternal war gedacht, um den Links standardmÃ¤ÃŸig ein rel = â€œnoopener noreferrerâ€ und ein target=â€_blankâ€ zu verpassen.
category: coden
tags:
series: projekt-tagebuch blog
vgWortCode: e883fbab34734f2e9635ec3a09a3330b
---

<DateFormatter date={pubDate} weekday />

**Wochen-Ziele:**

- [ ] Blog-Projekt-Tagebuch (Mai) in den Blog uploaden

<span id="tages-ziele">**Tages-Ziele:**</span>

- [ ] Artikel-View-Count zu jedem Artikel anzeigen
- [x] ~[Links fÃ¼rs MDX refactoren](#links-fuer-mdx-refactoren)~

---

## Links fÃ¼r MDX refactoren

### Ist-Zustand

Ich habe bereits 3 spezielle Link-Komponenten erstellt. `AffiliateLink`, `Link` und `LinkExternal`.

Die `Link`-Komponente war hauptsÃ¤chlich gedacht, die internen `@next/link`'s zu stylen.

Die `LinkExternal` war gedacht, um den Links standardmÃ¤ÃŸig ein `rel = â€œnoopener noreferrerâ€` und ein `target=â€_blankâ€` zu verpassen.

Die `AffiliateLink`-Komponente sollte es erleichtern, einen Affiliate-Link (mit zugehÃ¶rigem Tooltip) zu erstellen, indem man einfach ein `partner`-Attribut Ã¼bergibt. Anhand des Wertes des `partner`-Attributes wird dann die zugehÃ¶rige URL aus dem globalen `links`-Objekt gezogen. AuÃŸerdem wird an jeden Affiliate-Link automatisch das berÃ¼hmte `*` angehÃ¤ngt.

### Anchor-Links aka Jump-Links

Jetzt fiel mir auf, dass es noch eine weitere Link-Kategorie gibt. Auch fÃ¼r interne Links. Aber nicht seitenÃ¼bergreifend. Sondern interne Links, die auf eine andere Stelle auf der gleichen Seite verweisen. Sogenannte Anchor-Links oder Jump-Links.

Findest du hier z.B. in meiner [Zielliste](#tages-ziele). Von dort aus kann man direkt zur entsprechenden Ãœberschrift weiter unten springen.

Diese wollte ich jetzt auch in der `CustomStyledMDX`-Komponente einbauen, damit auch diese im `MDX` verwendet werden kÃ¶nnen. Das ist mir tatsÃ¤chlich auch gelungen.

### JSX ade

AuÃŸerdem wollte ich mir das `JSX` im `MDX` sparen. D.h., bisher musste ich, um z.B. die externe Link-Komponente im `MDX` zu verwenden, diese als `JSX` einfÃ¼gen:

```mdx
<LinkExternal href="https://github.com/kasulk">
  Hier gehtâ€™s aufâ€™s externe GitHub
</LinkExternal>
```

Das war mir zu umstÃ¤ndlich. Denn in `Markdown` kann man Links eigentlich einfach so schreiben:

```md
[Hier gehtâ€™s aufâ€™s externe GitHub](https://github.com/kasulk)
```

Auch das habe ich geschafft. Ich habe in die `CustomStyledMDX`-Komponente fÃ¼r Anchor-Tags (`a`-Tags) einfach eine Condition eingefÃ¼gt:

```tsx
// src/components/CustomStyledMDX.tsx
export const customComponents: MDXComponents = {
  // ...
  a: (props) => {
    if (props.href?.startsWith("#")) {
      return <a {...props}>{props.children}</a>;
    }

    if (props.href?.startsWith("/")) {
      return <Link {...props}>{props.children}</Link>;
    }

    return <LinkExternal {...props}>{props.children}</LinkExternal>;
  },
  // ...
};
```

DafÃ¼r hab ich mir folgende Gegebenheiten zu Nutze gemacht:

Da interne Verweise auf die _gleiche_ Seite immer die `id` eines anderen Elements ansprechen, fangen sie immer mit `#` an.
Interne Links auf eine _andere interne_ Seite beginnen dagegen immer mit einem `/`.
Und alles andere sind externe Links denen die `LinkExternal`-Komponente zugewiesen werden kann.

```md
[Interner Verweis](#interner-verweis)
[Interner Link zur About-Page](/aboutme)
[Hier gehtâ€™s aufâ€™s externe GitHub](https://github.com/kasulk)
```

Fehlen noch die Affiliate-Links. Um die kÃ¼mmere ich mich in der nÃ¤chsten Session.

### Achtung

Zu beachten ist hier, dass die Verweise, die man fÃ¼r die Custom Components in der `MDXRemote`-Komponente anlegt, nur fÃ¼r die die vom `MDX` kompilierten `HTML`-Elemente und `JSX` gilt. HÃ¤h?! ğŸ¤”

OK, noch mal langsam... ğŸŒ

Nur Links, die im `MD(X)` mit

```md
[Ich bin ein Link](https://www.youtube.com/watch?v=iIIuR-HjFho)
```

erstellt werden, werden in der `MDXRemote`-Komponente gemappt und in das entsprechende `HTML` kompiliert. Nicht Links, die man mit `a`-Tag, also

```html
<a href=â€https://www.youtube.com/watch?v=iIIuR-HjFhoâ€>Ich bin auch ein Link</a>
```

erstellt.

Ausnahme sind (eigene) `JSX`-Komponenten. Also folgendes wÃ¼rde wiederum funktionieren:

```tsx
// src/components/CustomStyledMDX.tsx

// ...
SupportButton: ({ className }) => (
  <SupportButton className={`h-7 w-7 ${className}`} />
);
// ...
```

## Feedback

<Accordion>
Schreib mir!

<SocialLinks emailSubject={`Frage zu ${title}`} />

</Accordion>
