---
title:
pubDate: 2024-08-12
description:
category: coden
tags:
series: code challenges
vgWortCode: a338cf730bce4c83a64a6323cc0fdeec

codeChallengeData:
  platform: codewars
  id: 54a2e93b22d236498400134b
  language: JavaScript
---

## Inhalt

1. [Die Fakten](#)
1. [Beschreibung](#)
1. [L√∂sung](#)
   1. [Pseudo-Code](#)
   1. [Code](#)
1. [Feedback](#)

---

## Die Fakten:

|                |                                                                                                                                            |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| **Plattform:** | <ExternalLink href={baseURLs[codeChallengeData['platform']]}>{domains[codeChallengeData['platform']]}</ExternalLink>                       |
| **Name:**      | <ExternalLink href={`${codeChallenge[codeChallengeData['platform']].challenge.url}/${codeChallengeData.id}`}>{apiData.name}</ExternalLink> |
| **Level**:     | {apiData.level}                                                                                                                            |
| **Sprache**:   | {codeChallengeData.language}                                                                                                               |

## Beschreibung:

<FetchedMarkdown>{apiData.description}</FetchedMarkdown>

Quelle: <ExternalLink href={baseURLs[codeChallengeData['platform']]}>{domains[codeChallengeData['platform']]}</ExternalLink>

## L√∂sung

### Pseudo-Code

Es gibt wie immer viele Varianten, hier ist eine meiner.

Erst die L√∂sungsschritte in Pseudo-Code. Los geht‚Äôs:

<Accordion>
**L√∂sungsschritte**

<Accordion>
Schritt 1

Als Erstes definieren wir uns das Keypad mit den Buttons und eine Variable um die Button-Dr√ºckungen zu z√§hlen.

</Accordion>
<Accordion>
Schritt 2

Dann brauchen wir einen Loop durch den Input-String (Ich entscheide mich hier f√ºr <ExternalLink href={docs.array.reduce}>`.reduce()`</ExternalLink>, wird also etwas anders).

</Accordion>
<Accordion>
Schritt 3

Wir suchen den jeweils aktuellen Buchstaben im Keypad.

</Accordion>
<Accordion>
Schritt 4

Wenn wir den passenden Button gefunden haben, ermitteln wir die Position des gesuchten Buchstaben.

</Accordion>
<Accordion>
Schritt 5

Damit k√∂nnen wir ermitteln, wie oft der Button gedr√ºckt werden muss.

</Accordion>
<Accordion>
Schritt 6

Das speichern wir in unserer Variablen.

</Accordion>
<Accordion>
Schritt 7

Dann addieren wir die Anzahl der Dr√ºckungen zu einer Summe.

</Accordion>
<Accordion>
Schritt 8

Zum Schluss geben wir alles noch sch√∂n zur√ºck.

</Accordion>
</Accordion>

### Code

Geil. √úbersetzen wir unseren Pseudo-Code in {codeChallengeData.language}:

<Accordion>
**L√∂sungsschritte**

<Accordion>
Meine erste Zeile:

```js
function presses(phrase) {
```

</Accordion>
<Accordion>

Als Erstes unsere Variablen f√ºr Keypad und Anzahl der Dr√ºckungen:

```js
const keypad = [
  ["1"],
  ["ABC2"],
  ["DEF3"],
  ["GHI4"],
  ["JKL5"],
  ["MNO6"],
  ["PQRS7"],
  ["TUV8"],
  ["WXYZ9"],
  ["*"],
  [" 0"],
  ["#"],
];

let numPresses = 0;
```

> [!tip]
> Statt als 2-dimensionales Array kannst du das Keypad auch gerne als String-Array anlegen (‚Üí ["1", "ABC2", "DEF3", ...]).

</Accordion>
<Accordion>

Dann der Loop durch den Input-String:

```js
return phrase
  .toUpperCase()
  .split("")
  .reduce((sum, char) => {
    // Todo
  }, 0);
```

Vorher m√ºssen wir den `phrase` noch in ein Array umwandeln.

Wie oben erw√§hnt, entscheide ich mich hier f√ºr einen <ExternalLink href={docs.array.reduce}>`.reduce()`</ExternalLink>-Loop. Meinen Accumulator nenne ich `sum`, das jeweils aktuelle Elment `char` und meinen Startwert setze ich auf `0`.

Au√üerdem setze ich das `return` hier schon mal davor. Mal sehen ob‚Äôs klappt... ü´¢

</Accordion>
<Accordion>
Jetzt k√∂nnen wir den jeweils aktuellen Buchstaben im Keypad suchen. Daf√ºr loopen wir also innerhalb des <ExternalLink href={docs.array.reduce}>`.reduce()`</ExternalLink> noch mal durch jeden Button des Keypads:
```js
      for (const button of keypad) {
        const buttonChars = button[0].split("");
```
Der √úbersicht und Lesbarkeit halber speichere ich die Zeichen des aktuellen Buttons als Array in einer Variablen.

Da jeder Button ein Array ist, m√ºssen wir immer das erste Element ausw√§hlen (`button[0]`). Man h√§tte das Keypad auch als String-Array anlegen k√∂nnen (s.o.), dann kann man hier direkt auf den `button` zugreifen.

</Accordion>
<Accordion>

Dann k√∂nnen wir die Position des aktuellen Zeichen auf dem Button und damit die Anzahl der n√∂tigen Dr√ºckungen ermitteln:

```js
        numPresses = buttonChars.indexOf(char) + 1;
        if (numPresses) break; // optional
      }
```

Wenn wir den richtigen Button gefunden und die Dr√ºckungen berechnet haben, k√∂nnen wir den inneren Loop vorzeitig beenden. Das kitzelt noch mal ein Klitze Performance aus unserer krassen Funktion. M√ºssen wir aber nicht.

</Accordion>
<Accordion>

Nach dem inneren Loop m√ºssen wir unser Ergebnis noch f√ºr die <ExternalLink href={docs.array.reduce}>`.reduce()`</ExternalLink>-Methode zur√ºckgeben:

```js
      return numPresses ? sum + numPresses : sum;
    }, 0);
}
```

Wenn wir Dr√ºckungen feststellen konnten, addieren wir sie zu unserer Summe, ansonsten geben wir die Summe so zur√ºck wie sie vorher war.

</Accordion>
<Accordion>

Voil√°! üí™

[Fragen?](#feedback)

</Accordion>
</Accordion>

<Accordion>
**Komplettl√∂sung**

```js
function presses(phrase) {
  const keypad = [
    ["1"],
    ["ABC2"],
    ["DEF3"],
    ["GHI4"],
    ["JKL5"],
    ["MNO6"],
    ["PQRS7"],
    ["TUV8"],
    ["WXYZ9"],
    ["*"],
    [" 0"],
    ["#"],
  ];

  let numPresses = 0;

  return phrase
    .toUpperCase()
    .split("")
    .reduce((sum, char) => {
      for (const button of keypad) {
        const buttonChars = button[0].split("");
        numPresses = buttonChars.indexOf(char) + 1;
        if (numPresses) break;
      }

      return numPresses ? sum + numPresses : sum;
    }, 0);
}
```

</Accordion>

## Feedback

<Accordion>
**Schreib mir!**

<SocialLinks
  emailSubject={`Frage zu ${apiData.platform} "${apiData.name}" (${codeChallengeData.language})`}
/>

</Accordion>
